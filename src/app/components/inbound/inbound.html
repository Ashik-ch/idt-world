<app-quotes [quote]="quotes"></app-quotes>
<div class="min-h-screen bg-gray-50/30">
    <div class="relative text-center">
        <div class="bg-white p-8 lg:px-[9rem] md:px-[6rem] rounded-xl shadow-sm bg-center mb-4 bg-cover"
            style="background-image: url('assets/images/redBg13.jpg'); ">
            <h1 class="text-xl md:text-4xl font-bold font-serif rounded-2xl py-3 border border-red-500 inline-block">
                <span class="text-white bg-red-500 p-3 rounded-l-2xl">Inbound</span>
                <span class="text-red-500 ms-2 p-3">Travel Packages</span>
            </h1>
            <p
                class="text-lg md:text-lg text-gray-700 max-w-5xl mx-auto leading-relaxed text-justify py-10 md:p-0 mb-5">
                Discover the beauty of India with our carefully curated domestic travel packages.
                From the snow-capped Himalayas to the pristine beaches of the south,
                explore diverse landscapes and cultures.
            </p>

            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8">

                <!-- FILTER TABS -->
                <div class="flex flex-wrap justify-center md:justify-start gap-2">
                    <button *ngFor="let tab of filterTabs" (click)="setFilter(tab.id)" class="px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap
                     border transition-all duration-300 shadow-sm" [ngClass]="activeFilter === tab.id
                ? 'bg-red-500 text-white border-red-500 shadow-md'
                : 'bg-white text-red-500 border-red-300 hover:bg-red-50'">
                        {{ tab.label }}
                    </button>
                </div>

                <!-- SEARCH -->
                <div class="flex justify-center md:justify-end">
                    <div class="relative w-full max-w-full md:max-w-[260px]">
                        <input type="text" placeholder="Search..." [(ngModel)]="searchTerm" class="w-full py-2 pl-10 pr-4 text-sm border border-gray-300 rounded-full shadow-sm
                       focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition" />
                        <i class="pi pi-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                    </div>
                </div>
            </div>

            <!-- ðŸ§³ Filtered List -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 p-6 rounded-xl">
                <div *ngFor="let pkg of visiblePackages" class="group cursor-pointer" (click)="navigateToState(pkg.id)">
                    <div class="rounded-xl p-6 text-white hover:shadow-lg transition-all duration-300 ease-in-out relative overflow-hidden"
                        data-aos="zoom-in-right" [ngClass]="pkg.gradient ? 'bg-gradient-to-br ' + pkg.gradient : ''"
                        [ngStyle]="
              pkg.bgImage
                ? {
                    'background-image': 'url(' + pkg.bgImage + ')',
                    'background-size': 'cover',
                    'background-position': 'center'
                  }
                : {}
            ">
                        <div *ngIf="pkg.bgImage"
                            class="absolute inset-0 bg-black/40 group-hover:bg-black/30 transition-all"></div>
                        <div class="relative z-10">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-xl font-bold">{{ pkg.name }}</h3>
                                <div class="space-x-3">
                                    <a href="https://drive.google.com/file/d/1lYR2QH5u5ZYLzRI9FmW_xirldU8_Nz8h/view?usp=sharing"
                                        target="_blank" rel="noopener noreferrer" class="hover:text-red-600 transition"
                                        title="View PDF">
                                        <i class="pi pi-file-pdf text-md text-white hover:scale-125"></i>
                                    </a>
                                    <button (click)="downloadPDF('1lYR2QH5u5ZYLzRI9FmW_xirldU8_Nz8h')"
                                        class="transition" title="Download PDF">
                                        <i class="pi pi-download text-md text-white hover:scale-125"></i>
                                    </button>
                                    <i class="pi pi-arrow-right text-md hover:scale-125"></i>
                                </div>
                            </div>
                            <p class="mb-2 italic text-sm">{{ pkg.tagline }}</p>
                            <p class="text-sm opacity-90">{{ pkg.description }}</p>
                        </div>
                    </div>
                </div>

                <!-- No Results Message -->
                <div *ngIf="visiblePackages.length === 0" class="col-span-full text-gray-500 italic py-8">
                    No matching packages found.
                </div>
            </div>
        </div>

        <app-inbound-map></app-inbound-map>
    </div>
</div>